# Лабораторная работа №1

## Цель работы

Поднять кластер Kubernetes локально, в нём развернуть свой сервис.

## Ход работы

Для выполнения работы было создано написано простое web-приложение на python, которое выводит This is bad/good docker в зависимости от Dockerfile.

**Версия приложение для плохого докера:**
```
```
**Версия приложения для хорошего докера:**
```
```
**Dockerfile с плохими практиками:**
```
```
**Плохие практики:**

1) Использование последней версии вместо какой-то конкретной.
   ```
   ```
	Лучше использовать какую-то конкретную версию python, на которой проект точно работает так, как должен. Ведь, когда базовый образ обновится и тогда он перестанет быть совместимым с прочими зависимостями, прописанными в нашем образе, тогда этот образ перестанет работать или будет работать некорректно.

2) Использование непонятных имен.
   ```
   ```
	Из имен должно быть понятно, что им обозначено. Непонятные имена лучше не использовать.

3) Установка каждого пакета отдельной командой.
   ```
   ```
	Каждый RUN создает отдельный слой в образе. Чем больше слоев, тем больше весит итоговый образ и тем больше времени требуется на его сборку. Что видно из рисунка ниже:
<p align="center">
    <img src="./Lab_1/images/img-1.png">
</p>

**Сборка плохого Dockerfile:**
<p align="center">
    <img src="./Lab_1/images/img-2.png">
</p>

**Результат сборки:**
<p align="center">
    <img src="./Lab_1/images/img-3.png">
</p>

**Хороший Dockerfile:**
```
```
В хорошем Dockerfile использованы понятные имена, использована конкретная версия python и все необходимые пакеты устанавливаются из файла requirements.txt.

**Сборка хорошего Dockerfile:**
<p align="center">
    <img src="./Lab_1/images/img-4.png">
</p>

**Результат сборки:**
<p align="center">
    <img src="./Lab_1/images/img-5.png">
</p>

**Плохие практики для работы с контейнером:**

1) Не надо хранить учетные данные в образе – используйте для этого переменные среды. 
  Не надо прописывать в образе никаких логинов и паролей. Вместо этого лучше использовать переменные среды, чтобы вытащить соответствующие данные из внешних по отношению к контейнеру источников.

2) Не надо хранить данные внутри контейнера. 
  В ходе жизненного цикла контейнеры могут приостанавливаться, уничтожаться, заменяться. Если приложение работает в контейнере, то версия 1.0 этого приложения должна легко меняться на версию 1.1 без потери данных.

## Вывод

В ходе лабораторной работы мы написали 2 Dockerfile, которые содержат в себе примеры хорошей и плохой практик использования.
